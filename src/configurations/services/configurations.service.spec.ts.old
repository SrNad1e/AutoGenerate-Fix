/* eslint-disable prettier/prettier */
import { Test, TestingModule } from '@nestjs/testing';
import { ConfigurationsController } from '../controllers/configurations.controller';
import { Configuration } from '../entities/configuration.entity';
import { ConfigurationsService } from './configurations.service';

describe('ConfigurationsService', () => {
	let configurationsService: ConfigurationsService;
	let configurationsController: ConfigurationsController;

	beforeAll(async () => {
		const module: TestingModule = await Test.createTestingModule({
			controllers: [ConfigurationsController],
			providers: [ConfigurationsService],
		}).compile();
		configurationsService = module.get<ConfigurationsService>(
			ConfigurationsService,
		);
		configurationsController = module.get<ConfigurationsController>(
			ConfigurationsController,
		);
	});

	it('debe estar definido el servicio y el controlador', () => {
		expect(configurationsService).toBeDefined();
		expect(configurationsController).toBeDefined();
	});

	it('debe consultar todas las configuraciones', () => {
		expect(configurationsController.getAll()[0]).toBeInstanceOf(Configuration);
	});
});
